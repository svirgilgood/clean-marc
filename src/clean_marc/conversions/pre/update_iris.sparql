PREFIX bf: <http://id.loc.gov/ontologies/bibframe/>
PREFIX bflc: <http://id.loc.gov/ontologies/bflc/>
PREFIX cc: <http://creativecommons.org/ns#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX foaf: <http://xmlns.com/foaf/0.1/>
PREFIX madsrdf: <http://www.loc.gov/mads/rdf/v1#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX xs: <http://www.w3.org/2001/XMLSchema#>
PREFIX cmo: <http://svirgilgood.github.io/clean_marc/onto/>
PREFIX cmd: <http://svirgilgood.github.io/clean_marc/data/>


#DELETE {
#  ?s ?p ?o .
#}
INSERT {
  ?s ?p ?new_obj .
}
WHERE {
  ?s ?p ?o .
  FILTER(!isBlank(?o))
  FILTER(!isLiteral(?o))
  BIND(str(?o) AS ?iri_with_space)
  FILTER(REGEX(?iri_with_space, " "))
  BIND(IRI(REPLACE(?iri_with_space, " ", "%20")) AS ?new_obj)
  #FILTER(STRSTARTS(?iri_with_space, "http://id.loc.gov/authorities/classification/"))
}
